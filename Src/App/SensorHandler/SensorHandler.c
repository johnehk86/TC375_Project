
/***********************************************************************/
/*Include*/
/***********************************************************************/
#include "SensorHandler.h"
#include "Driver_Adc.h"

/***********************************************************************/
/*Define*/
/***********************************************************************/
#define BAT_CUR_FACTOR		12.0f	/* ex. (5.0 - 2.5) * 12 = 30A */
/***********************************************************************/
/*Typedef*/
/***********************************************************************/

/***********************************************************************/
/*Static Function Prototype*/
/***********************************************************************/


/***********************************************************************/
/*Variable*/
/***********************************************************************/
float32_t fBattCurrent;
float32_t fAmbientTemperautre = 20.0f;

/***********************************************************************/
/*Function*/
/***********************************************************************/
void Unit_SensorHandler(void)
{
	float32_t fTempCovn5vUnit;

	fTempCovn5vUnit = ((float32_t)stAdcRawInfo.u32nuCurrnet_Raw / 4095.0f) * 5.0f;
    fBattCurrent = (fTempCovn5vUnit - 2.5f) * BAT_CUR_FACTOR;
}
